<%= turbo_frame_tag "settings-modal" do %>

  <div class="fixed inset-0 bg-black/80 z-50 flex items-center justify-center"
       data-controller="modal"
       data-modal-target="backdrop"
       data-action="click->modal#closeOnOutside keydown@document->modal#handleEscape">

    <div class="bg-gray-800 border-2 border-yellow-400 rounded-xl p-6 lg:p-8 max-w-2xl w-full mx-4 shadow-2xl"
         onclick="event.stopPropagation()">

      <div class="flex justify-between items-center mb-6 lg:mb-8">
        <h2 class="text-2xl lg:text-3xl font-bold text-yellow-400">
          ‚öôÔ∏è <%= t('settings.title') %>
        </h2>

        <%= button_to "‚úï",
            close_settings_path,
            method: :get,
            class: "text-gray-400 hover:text-white text-2xl font-bold leading-none bg-transparent border-none cursor-pointer",
            title: t('settings.close'),
            data: { turbo_stream: true } %>
      </div>

      <p class="text-base lg:text-lg text-gray-300 mb-6">
        <%= t('settings.description') %>
      </p>

      <%= render "settings/form", settings: @settings %>

      <div class="mt-8 lg:mt-12 flex flex-col sm:flex-row gap-3 lg:gap-4 justify-end">
        <%= link_to "üîÑ #{t('settings.reset_defaults')}",
            reset_settings_path,
            class: "bg-yellow-600 hover:bg-yellow-700 text-white font-semibold px-4 lg:px-6 py-2 lg:py-3 rounded-lg text-base lg:text-xl transition-colors duration-200",
            data: { "turbo-method": :patch } %>

        <%= button_to "‚úì #{t('settings.done')}",
            close_settings_path,
            method: :get,
            class: "bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 lg:px-6 py-2 lg:py-3 rounded-lg text-base lg:text-xl transition-colors duration-200",
            data: { turbo_stream: true } %>
      </div>
    </div>
  </div>

<% end %>
